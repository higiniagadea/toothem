<table>
<p>
  <%#=link_to_remote 'Crear Evento', :url => {:controller => :turnos, :action => :new} %>
<%= link_to 'Nuevo Evento', new_turno_path, :id => 'nuevo' %>
  
</p>
 <div id = "create_turno">
  </div>
<script type="text/javascript">
  $(document).ready(function(){
      // page is now ready, initialize the calendar...
      $('#calendar').fullCalendar({
          editable: true,
          header: {
              left: 'prev,next',
              center: 'title'
              /*right: 'month,agendaWeek,agendaDay'*/
          },
          defaultView: 'agendaWeek',
          height: 600,
          slotMinutes: 30,
          minTime : 8,
          maxTime : 21,
          firstDay : 1,
          allDaySlot : false,
          
          weekends: false,
          defaultEventMinutes : 30,
          
          weekMode : false,
          monthNames : ['Enero' , 'Febrero' , 'Marzo' , 'Abril' , 'Mayo' , 'Junio' , 'Julio' ,
                         'Agosto' , 'Septiembre' , 'Octubre' , 'Noviembre' , 'Diciembre' ],

          dayNamesShort : ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'],
          
          loading: function(bool){
              if (bool)
                  $('#loading').show();
              else
                  $('#loading').hide();
          },
          
          events:[
            <% for turno in Turno.all -%>
              {
                title  : 'Profesional numero: <%= turno.profesional_id.to_s %>',
                start  : '<%= turno.fecha.to_s %>T07:00:00',
                end : '<%= turno.fecha.to_s %>T11:00:00',
                allDay : false
              },
            <% end %>
              ],
           /* [
        {
            title  : 'event1',
            start  : '2011-03-10',
            allDay : false 
        },
        {
            title  : 'event2',
            start  : '2011-03-09',
            allDay : false
        },
        {
            title  : 'event3',
            start  : '2011-03-08',
            allDay : false // will make the time show
        }
    ],*/

          timeFormat: 'h:mm t{ - h:mm t} ',
          
          dragOpacity: "0.5"

          




      });
         $('#nuevo').fancybox(
        {
      'hideOnContentClick': false,
      'titleShow': false

        });


  });
</script>
<div>
  <div id='calendar'>
  </div>
</div>

<div id = "desc_dialog" style ="display:none;">
  <div id = "turno_desc">
  </div>
  <br/>
  <br/>
  <div id = "event_actions">
    <span id = "edit_event"></span>

    <span id = "delete_event"></span>
  </div>
</div>
<div id = "create_event_dialog" style ="display:none;">
 
</div>

</table>
