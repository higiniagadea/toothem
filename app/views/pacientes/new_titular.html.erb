
<fieldset class="ui-widget ui-widget-content ui-corner-top">
  <legend class="ui-widget ui-widget-content ui-corner-all ui-widget-header">Nuevo Titular</legend>

  <div>
<% form_for(@titular, :url => create_titular_paciente_path(@paciente)) do |f| %>
  <%= f.error_messages %>
  
<table style="text-align:left; "class="tablelist">

 <div class="errores">
    <ol style="list-style:none"></ol>
  </div>

  
  <tr>
  <th>
    Nombre y Apellido</th>
  <td><%= f.text_field :nombre, :class=> 'ui-widget-content required', :title=> ' Nombre y Apellido no puede estar vacio', :size=> 20%>
  </td>
 
  
  <th>
    Matr√≠cula</th>
  <td><%= f.text_field :matricula, :size=> 10, :class=> 'ui-widget-content required', :title=> 'Nro. de Documento no puede vacio' %>
  </td>
  </tr>
   <tr>
  <th>
    Obra Social</th>
   <td><%= f.collection_select(:obra_social_id, ObraSocial.all, :id, :nombre, :class=> 'ui-widget-content') %>
  </td>
  </tr>
  <tr>
    <th>Nro de Afiliado</th>
    <td><%= f.text_field :nro_afiliado, :class=> 'ui-widget-content required', :title=> 'Nro. de Afiliado no puede estar vacio', :size=> 10 %> </td>
  </tr>
</table>
  <table>
    <tr>
      <td style=" float: left; margin-left:  315px"><%= f.submit 'Guardar',  :class => 'submit ui-button ui-widget ui-state-default ui-corner-all' %></td>
  
    </tr>
</table>
<% end %>
</div>
</fieldset>


<script type="text/javascript">
  $(document).ready(function(){
    $("#new_titular").validate({
        //errorLabelContainer: $("#new_paciente div.errores")
       errorContainer: $("#new_titular div.errores"),
       errorLabelContainer: $("ol", $("#new_titular div.errores")),
       wrapper: 'li',
       meta: "validate",
        rules: {
         "titular[matricula]": {required:true, remote:"/pacientes/verificar_matricula_tit?titular[matricula]=" + $('#titular[matricula]').val()},
         "titular[nro_afiliado]": {required:true, remote:"/pacientes/verificar_nroafiliado_tit?titular[nro_afiliado]=" + $('#titular[nro_afiliado]').val()}

       },
       messages: {
         "titular[matricula]": {remote:'Nro. de Documento ya se encuentra cargado' },
         "titular[nro_afiliado]":{remote:'Nro. de Afiliado ya se encuentra cargado'}
       }
    
     });

  });
  </script>