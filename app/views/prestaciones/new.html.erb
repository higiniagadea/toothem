<fieldset class="ui-widget ui-widget-content ui-corner-all">
  <legend class="ui-widget  ui-corner-all ui-widget-header">Nueva Prestacion</legend>

<% form_for(@prestacion) do |f| %>
  <%= f.error_messages(:id => 'Error', :header_message=>'', :message=>'Se encontraron los siguientes errores') %>
  <div class="errores">
    <ol style="list-style:none"></ol>
  </div>
  <table id="form">
    <tr>
    <td>
      <label>Código de prestacion</label></td>
    <td><%= f.text_field :codigo, :class => 'required ui-widget-content', :title => 'Codigo no puede estar en blanco' %>
    </td>
    </tr>
    <tr>
    <td>
      <label>Descripción</label></td>
    <td><%= f.text_field :descripcion, :class => 'required ui-widget-content', :title => 'Descripcion no puede estar en blanco' %>
    </td>
    </tr>
    
   
    <%#= f.collection_select(:consultorio_id, Consultorio.all, :id, :nombre) %>
  </table>
  <table>
    <tr>
    <td  style=" float: left; margin-left:  1100px">
      
      <%= f.submit 'Guardar',  :class => 'submit ui-button ui-widget ui-state-default ui-corner-all' %>
<%= link_to 'Cancelar', prestaciones_path %>
    </td>
    </tr>
  </table>
</fieldset>
<% end %>

<script type="text/javascript">
  $(document).ready(function(){
    $("#new_prestacion").validate({
        //errorLabelContainer: $("#new_paciente div.errores")
       errorContainer: $("#new_prestacion div.errores"),
       errorLabelContainer: $("ol", $("#new_prestacion div.errores")),
       wrapper: 'li',
       meta: "validate",

       rules: {
         "prestacion[codigo]":{required:true, remote:"/prestaciones/verificar_codigo?prestacion[codigo]=" + $('#prestacion[codigo]').val()}
       },
       messages:{
         "prestacion[codigo]": {remote:'Codigo ya se encuentra cargado'}

     }
    });

  </script>